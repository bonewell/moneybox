@startuml
hide empty members
namespace model.db {
    interface Query {
        + where(condition)
        + execute()
        + get(name : string, value [out])
    }
    interface Factory {
        + query() : Query
        + command() : Command
    }
    interface Command {
        + set(name : string, value)
        + execute()
    }
    class MongoQuery
    class MongoFactory
    class MongoCommand


    Query <|.. MongoQuery
    Factory <|.. MongoFactory
    Command <|.. MongoCommand
    MongoQuery <. MongoFactory : create
    MongoFactory .> MongoCommand : create
}
@enduml
